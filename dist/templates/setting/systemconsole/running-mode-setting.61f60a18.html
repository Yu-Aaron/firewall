<div>
  <div class="panel panel-lg" id="system-running-mode-setting-panel">
    <div class="row" id="cg-busy-container" cg-busy="{promise: runningModeSetting.configPromise,message:'正在切换...'}">
      <div class="col-xs-12">
        <div class="panel-header panel-header-border">
          <span>设置管理模式</span>
          <i class="fa fa-info-circle icon-right"></i>
          <div class="pull-right">
            <div ng-if="!runningModeSetting.isEditing" class="topo-btn-group">
              <button id="protocol_setting_edit_button" type="button"
                      class="btn btn-default btn-sm pull-right btn-top-pull-right-margin-back"
                      ng-click="runningModeSetting.editRunningMode()"><i
                class="fa fa-edit"></i></button>
            </div>
            <div ng-if="runningModeSetting.isEditing" class="topo-btn-group">
              <button id="running_mode_setting_confirm_button" type="button"
                      class="btn btn-default btn-sm pull-right btn-top-pull-right-margin-back"
                      ng-click="runningModeSetting.confirmEdit()" ng-disabled="!runningModeSetting.valid">
                <i class="fa fa-check text-lime"></i>
              </button>
              <button id="running_mode_setting_cancel_button" type="button"
                      class="btn btn-default btn-sm margin-right-default pull-right btn-top-pull-right-margin-back"
                      ng-click="runningModeSetting.cancel()"><i class="fa fa-times"></i></button>
            </div>
          </div>
        </div>

        <div class="panel-body panel-body-light">
          <div>
            <nav class="navbar-default" style="background-color:#212121; width: 148px;">
              <div class="navbar-inner">
                <ul class="nav nav-pills">
                  <li role="button" ng-repeat="mode in runningModeSetting.runningModes"
                      ng-class="{ active: runningModeSetting.isActive({{mode.mode}}) }">
                    <a href="#"
                       ng-click="runningModeSetting.isEditing&&runningModeSetting.activeRunningMode(mode.mode)">{{mode.description}}</a>
                  </li>
                </ul>
              </div>
            </nav>
            <div class="row col-lg-6" ng-if="runningModeSetting.canAutoDiscovery()">
              <div class="row">
                <input name="display" type="radio" ng-value="true" ng-model="runningModeSetting.autoDiscovery"
                       ng-change="runningModeSetting.validate()"
                       ng-disabled="!runningModeSetting.isEditing">平台自发现</input>
              </div>
              <div class="row">
                <input name="display" type="radio" ng-value="false" ng-model="runningModeSetting.autoDiscovery"
                       ng-change="runningModeSetting.validate()"
                       ng-disabled="!runningModeSetting.isEditing">指向平台</input>
                <input type="text" ng-model="runningModeSetting.remoteMwIp" ng-change="runningModeSetting.validate()"
                       ng-disabled="!runningModeSetting.canInputMwIp()"/>
                <span class="input-alert-error" ng-show="!runningModeSetting.valid">请输入有效的IP地址</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
